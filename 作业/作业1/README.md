# 操作系统作业一

## 1. 请分别从系统和用户的角度，阐述操作系统的功能。

- 系统的角度：
  	1.系统是一个控制程序：控制程序的执行，以避免错误和对计算机的不当使用。
  	2.系统是一个资源分配器：系统管理所有的资源，在冲突的资源需求下做出公平和高效的资源使用决策。

- 用户的角度：
  	1.为个人电脑用户提供便捷的使用和出色的表现，隐藏底层的资源分配问题。
  	2.为共享计算机的用户最大化资源利用，使各个使用共享计算机的用户的需求尽可能满足。
  	3.为使用共享资源的用户提供服务，使得用户之间可以交换他们拥有的资源。
  	4.为移动计算机用户优化可用性和电池寿命。

## 2. 概述 multi-programming 和 multi-tasking 的概念及其设计目的。

​	multi-programming是指操作系统组织调度所要执行的多个任务以便CPU总在执行某个任务，所要执行的任务被预先放在任务池中，当某个任务暂时阻塞时（例如执行I/O操作时），系统可以从任务池中取出其它任务继续执行，其设计目的是使CPU持续工作使它得到充分的利用。

​	multi-tasking是指通过通过分时使用CPU使CPU在多个任务中迅速切换，其设计目的是使用户看来这些任务是同时进行的，从而使多个用户能够同时运行多个任务。

## 3. 概述存储的层次以及缓存的思想。

​	存储的层次是一种金字塔结构，从上到下分别为寄存器、缓存、主存、固态硬盘、硬盘、光盘、磁盘。从下到上速度增加，成本增加，不稳定性增加。

​	缓存的思想是把数据从低层次的存储系统复制到高层次的存储系统以便使用，高层次的存储系统的速度更快，从而能够提高I/O速度。

## 4. 解释什么是系统调用，详细阐述系统调用与 API 的逻辑关系。

​	系统调用是进程与操作系统内核之间的程序接口，系统调用为用户程序提供了请求操作系统执行任务的方法。

​	API是应用程序接口，提供可供程序员使用的函数。与系统调用相比，系统调用更加底层，与操作系统内核交互，在API中可以间接执行系统调用，用户程序调用API，API执行系统调用，系统调用将结果返回给API，API再返回给用户程序。使用API与直接使用系统调用相比具有更高的可移植性。

## 5. 阐述 Dual Mode 的工作机制，以及采用 Dual Mode 的原因。

​	Dual mode让操作系统可以选择工作在用户模式或内核模式，通过硬件提供的Mode bit来指定模式，被指定为特权的指令只能运行在内核模式，执行系统调用时从用户模式切换到内核模式，调用结束后再切换回用户模式。

​	采用Dual Mode可以让一些特权指令不能被用户程序执行，以保护操作系统和其它系统组件。

## 6. 概述操作系统需要提供哪些服务。

​	操作系统需要提供的服务可以分为两类：为用户提供方便的服务和提高操作系统效率的服务

- 为用户提供方便的服务：用户接口（CLI Batch GUI）程序执行服务 I/O操作服务 文件系统操作服务 进程通信服务 错误检测服务
- 提高操作系统效率的服务： 资源分配服务 资源统计服务 保护与安全服务

## 7. 分别阐述 Monolithic 单片结构，层次化结构，模块化结构和微内核结构的特点和优劣。

- Monolithic 单片结构：由系统程序和内核两部分构成，将所有功能组合在一个层级。优点是性能上有优势，缺点是难以实现和维护。

- 层次化结构：操作系统被分成一系列的层次，从硬件层逐层过渡到用户层。优点是容易构建和调试并在高层隐藏了低层实现，缺点是效率问题和层次难以划分。
- 模块化结构：操作系统有一系列的核心组件，可以通过模块的形式链接到不同的服务。优点是模块可以灵活装载，效率更高，缺点是各模块需要协同工作，难以构建。
- 微内核结构：提供最小的进程、内存管理与通信功能，提供客户端程序与服务之间的通信功能。优点是易于拓展，便于将操作系统移植到新的架构，更加灵活和安全，缺点是需要额外的用户空间到内核空间的通信开销。

## 8. 举例说明什么是机制与策略分离的设计原则，并说明该设计的好处。

​	机制是如何做，策略是做什么，机制与策略分离的设计原则是指在设计时将二者分别考虑。

​	例如：

​		1.用于CPU保护的计时器机制，对应策略是计时器应该被设置为多长时间，在改变时间时不需要改变保护的机制。

​		2.在任务调度中的优先机制，对应的策略是I/O 密集型程序的优先级高于 CPU 密集型程序，在改变优先级的策略时不需要改变优先机制。

​	机制与策略分离的设计原则的好处是拥有最大的灵活性，可以在改变策略的情况下不影响机制。
